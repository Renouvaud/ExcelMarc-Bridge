{    
    "xlsx_file_input": "CRIS_ex_fichier_info_a_completer_post_import",
    "xml_file_output": "CRIS_ex_fichier_info_a_completer_post_import",
    "xlsx_file_loc": "mapping_loc",
    "xlsx_folder" : "excel_comp_files",
    "global_dict":{
        "codes_bib": {
            "code_bib_alma" : "etoy",
            "code_bibliotheque_notices" : "vdetoy",
            "indice_classification" :  "cetoy",
            "code_selection" : "nwetoy",
            "code035": "LUETOY"
        },
        "lang008": {
            "EN": "eng",
            "FR": "fre",
            "DE": "ger",
            "ES": "spa",
            "IT": "ita",
            "NL": "dut",
            "PT": "por",
            "NE": "nep"
        },
        "conv_age": {
            "0.5": "6 mois",
            "1.5": "18 mois",
            "2.5": "2 ans et demi"
        },
        "conv_aut_code": {
            "Auteur": "aut",
            "Autre": "oth",
            "Concepteur": "ccp",
            "Créateur": "cre",
            "Design": "dsr",
            "Graphiste":"grt",
            "Illustrateur":"ill",
            "Rédacteur":"red",
            "Rédaction":"red",
            "nan":""
        }
    },
    "mapping":[
        ["leader", "02167nrm a2200457 a 4500"],
        ["007",
            ["pos0-5", "k|||m|"]
        ],
        ["008",           
            ["pos0-6", "      s"],
            ["date1", "if§re.match('[0-9]{4}', @Annee_sortie)§@Annee_sortie§    "],
            ["date2", "    "],
            ["pays", "xx "],
            ["pos18-34", "|||        ||||||"],
            ["lang", "if§@Langue.strip() in #lang008.keys()§#lang008[@Langue]"],
            ["lang", "elif§'/' in @Langue§mul§fre"],
            ["pos38-39", " d"]
        ],
        ["0243_",
            ["a", "@EAN13"]
        ],
        ["02852",
            ["a", "if§''!=@Reference_Editeur§@Reference_Editeur @Editeur"],
            ["_comment", "fonction if description"]
        ],
        ["035", 
            ["a", "(#codes_bib['code035'])@IDJeux"]
        ],
        ["040",
            ["a", "RNV #codes_bib['code_bib_alma']"]
        ],
        ["041",
            ["a", "for§@Langue.split('/')§if§%s in #lang008.keys()§#lang008[%s]"]
        ],     
        ["245",
            ["a", "@Nom_jeu"]
        ],
        ["246_3",
            ["a", "@Jeux_Nom_Traduction"]            
        ],
        ["264_2",
            ["a", "[Lieu de publication non identifié] : "],
            ["b", "if§''!=@Editeur§@Editeur, §[éditeur non identifié], "],
            ["c", "if§re.match('[0-9]{2}[0-9\\?]{2}', @Annee_sortie)§@Annee_sortie§[date de publication non identifiée]"]
        ],
        ["300",
            ["a", "if§re.search('bo[iî]te', @Contenu)§1 jeu dans une boîte"],
            ["a", "elif§@Contenu!='' and'costume' in @Contenu.lower()§1 costume"]
        ],
        ["336",
            ["b", "tdf"],
            ["2", "rdacontent"]
        ],
        ["337",
            ["b", "n"],
            ["2", "rdamedia"]
        ],
        ["338",
            ["b", "nr"],
            ["2", "rdacarrier"]
        ],
        ["500",
            ["a", "if§'0' == @Age_min§"],
            ["a", "elif§re.search('^[0-9]+$', @Age_min)§Age min : @Age_min ans"],
            ["a", "elif§re.search('^[012].5$', @Age_min)§Age min : #conv_age[@Age_min]"]
        ],
        ["500",
            ["a", "if§''!=@Age_max and @Age_max!='99' and @Age_max != '97' and @Age_max != '77'§Age max : @Age_max"]
        ],
        ["500",
            ["a", "if§''!=@Nbre_joueurs§Nombre de joueurs·euses : @Nbre_joueurs"]
        ],
        ["500",
            ["a", "if§''!=@Duree§Durée de la partie : @Duree"],
            ["_comment", "déplacer dans champ recherchable --> voir avec Alexandra"]
        ],
        ["500",
            ["a", "if§''!=@Mecanique§Mécanique : @Mecanique"]
        ],
        ["500",
            ["a", "if§''!=@Interaction§Interaction : @Interaction"]
        ],
        ["500",
            ["a", "if§''!=@Theme§Thème : @Theme"],
            ["_comment", "il me semble que la thématique n'avait pas besoin d'être reprise ou sinon sous forme d'une sélection thématique?"]
        ],
        ["500",
            ["a", "if§''!=@DYS§Jeu adapté aux troubles DYS : @DYS"]
        ],
        ["500",
            ["a", "if§re.match('[0-9]+ *[x/] *[0-9]+', @Taille_poids)§Dimensions : @Taille_poids"],
            ["a", "elif§'kg' in @Taille_poids§Poids : @Taille_poids"],
            ["a", "elif§'cm' in @Taille_poids§Taille : @Taille_poids"],
            ["a", "elif§''!=@Taille_poids§Taille/poids adapté pour : @Taille_poids"]
        ],
        ["500",
            ["a", "if§''!=@Poids§Poids : @Poids"]
        ],
        ["5050_",
            ["a", "@Contenu"]
        ],
        ["5208_",
            ["a", "@Resume"],
            ["9", "if§@Resume!=''§#codes_bib['code_bibliotheque_notices']/today_date(%m.%Y)"]
        ],
        ["521",
            ["a", "if§''!=@Niveau§@Niveau"],
            ["9", "if§''!=@Niveau§#codes_bib['code_bibliotheque_notices']/today_date(%m.%Y)"]
        ],
        ["700", "forExcel§#auteurs_liste.iterrows()§if§%sIDJeux%s == @IDJeux",
            ["a", "%sAuteurs_Nom%s, %sAuteurs_Prenom%s"],
            ["4", "#conv_aut_code[%sFonction%s]"]
        ],
        ["85642",
            ["3", "if§''!=@Video_Regle§Vidéo"],
            ["u", "if§''!=@Video_Regle§@Video_Regle"],
            ["z", "if§''!=@Video_Regle§Règles du jeu"]
        ],
        ["972",
            ["a", "#codes_bib['code_bibliotheque_notices']"]
        ],
        ["905",
            ["a", "if§@Valeur_Specifique=='1'§etoyjcoeur"],
            ["b", "if§@Valeur_Specifique=='1'§today_date(%y%m)"]
        ],
        ["985",
            ["2", "#codes_bib['indice_classification']"],
            ["a", "if§''!=@a985§@a985"],
            ["b", "if§''!=@b985§@b985"],
            ["c", "if§''!=@ESAR_secondaire§@ESAR_secondaire"],
            ["9", "local"]
        ],
        ["998",
            ["a", "ImportPython/#codes_bib['code_bib_alma']"]
        ],
        ["holding_data",
            ["leader", "     nx  a22     1n 4500"],
            ["852",
                ["b", "#codes_bib['code_bib_alma']"],
                ["c", "@Localisation"],
                ["h", "@ESAR_secondaire"]
            ]
        ],
        ["item_data",
            ["alternative_call_number", "@ESAR_secondaire"],
            ["alternative_call_number_type", "8"],
            ["arrival_date", "format_date(@Date_achat, %Y-%m-%d %H:%M:%S, %Y-%m-%d)"],
            ["_comment", "ancienne version format Date_achat", "arrival_date", "format_date(@Date_achat, %a %b %d %H:%M:%S %Z %Y, %Y-%m-%d)"],
            ["barcode", "EY@Numero_jeu"],
            ["description", ""],
            ["fulfillment_note", "@Remarque_location"],
            ["inventory_date", "format_date(@Date_modif, %Y-%m-%d %H:%M:%S, %Y-%m-%d)"],
            ["inventory_price", "@Prix"],
            ["internal_note_1", "if§''!=@Pces_Rechanges and @Jeux_perso!=''§Pièces de rechange : @Pces_Rechanges ; @Jeux_perso"],
            ["internal_note_1", "elif§''!=@Pces_Rechanges§Pièces de rechange : @Pces_Rechanges"],
            ["internal_note_1", "elif§@Jeux_perso!=''§Note de contenu : @Jeux_perso"],
            ["internal_note_2", "@Remarque"],
            ["internal_note_3", "@Jeux_Tagge"],
            ["item_location", "@Localisation"],
            ["physical_material_type", "GAME"],
            ["_comment", "voir avec JR si Game n'est pas que pour les jeux vidéo, si ok utiliser ce qui suit ", "physical_material_type", "GAME"],
            ["physical_condition", "if§@Etat!='Disponible'§@Etat"],
            ["policy", "3000"],
            ["public_note", ""],
            ["statistical_note_2", "@Fournisseur"],
            ["_comment", "liste complètes des champs possibles pour l'item : https://developers.exlibrisgroup.com/alma/apis/docs/xsd/rest_item.xsd/?tags=PUT#item_data"]
        ]
    ]
} 